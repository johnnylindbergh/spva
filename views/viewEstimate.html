
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sun Painting Estimate</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/frankeno/xsalert@main/src/themes/light-theme.css">

    <script src="https://cdn.jsdelivr.net/gh/frankeno/xsalert@main/src/xsalert.js"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <script src="checkout.js" defer></script>
            <link rel="stylesheet" href="css/estimateStyle.css">
        <link rel="stylesheet" href="css/bottomNavbar.css">
    <script src="/js/generateEstimate.js"></script>
</head>
<body>
<body>

    <nav class="bottom-navbar">
        <ul>
            <li><input type="button" value="Share With Sun Painting" onclick="shareSelf()" class="img-button-client"</li> /<br>
            <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
</head>
<body>
    <!-- button of the class shareBtn,. on click, call function share -->
    <button class="shareClientBtn" onclick="shareClient()">Share With Client</button>
</body>
</html>

        
        </ul>
    </nav>
        <!-- Buttons at the top -->
    <div class="top-buttons">
        <button onclick="changeLanguage('en')" class="language-btn">English</button>
        <button onclick="changeLanguage('es')" class="language-btn">Espa√±ol</button>
        <button onclick="toggleNumbers()" class="toggle-btn">Show Without Numbers</button>
    </div>
    <div class="container">

         <div class="image-container">
            <img src="sunpainting_logo_blue.png" alt="Sun Painting Logo">
        </div>
       <p data-i18n="ThankYouMessage">1819 Broadway St, Charlottesville, VA 22902 US</p>
        <p>Phone: +1 434-207-2025 | Email: <a href="mailto:sales@sunpaintingva.com" style="color:#000000;">sales@sunpaintingva.com</a></p>
        <p>Website: <a href="http://www.sunpaintingva.com" style="color:#000000;">www.sunpaintingva.com</a></p>

        
         {{#takeoff}}


       <input type='hidden' id='takeoff_id' value='{{id}}'>

        <p data-i18n="Owner">Owner:</p>
        <input type='text' class="hiddenInput" id='takeoff_owner_name' onchange='updateTakeoffOwnerName()' value='{{owner}}'></br>
        <p data-i18n="Billing Address">Billing Address:</p>
        <input type='text' class="hiddenInput" id='owner_billing_address' onchange='updateTakeoffBillingAddress()' value='{{owner_billing_address}}'></br>
        <p data-i18n="Owner Email Address">Owner Email Address:</p>
        <input type='text' class="hiddenInput" id='owner_email_address' onchange='updateTakeoffOwnerEmailAddress()' value='{{owner_email}}'></br>
        <p data-i18n="Invoice Email Address">Invoice Email Address:</p>
        <input type='text' class="hiddenInput" id='invoice_email_address' onchange='updateTakeoffInvoiceEmailAddress()' value='{{invoice_email}}'></br>

       <input type='hidden' id='takeoff_total' value='{{takeoff_info.total}}'>

      <h2 style="text-align: left;">{{name}}</h2>
      Owner:  {{owner}}</br>
      Billing Address: {{owner_billing_address}}</br>

      </br>
    {{/takeoff}}

    <p> {{response}}</p>
        <table id="estimate-table">
            <tr>
                <th data-i18n="Description">Description</th>
                <th data-i18n="Amount" class="amount-column">Amount</th>
            </tr>
            <tr>
                <td contenteditable="true" class="editable" id="proposal-includes">
                    <ul id="includes-list"></ul>
                </td>
                <td id="includes-total" class="amount-column">{{includes_total}}</td>
            </tr>
            <tr>
                <td contenteditable="true" class="editable" id="exclusions">
                    <ul id="exclusions-list"></ul>
                </td>
                <td id="excludes-total" class="amount-column">${{exclude_total}}</td>
            </tr>
        </table>

        <table id="options-table">
            </table>


        <!-- Button to add a new row -->
        <button id="add-row-btn" onclick="addOption({{estimate.takeoff_id}})">Add Row</button>

        <!-- Signature section with IDs for signature input -->
        <!-- <div class="signature">
            <p><em>This budget estimate is not a contract until signed and returned to Sun Painting.</em></p> </br>
            <p>
                <strong>Authorized Signature:</strong> 
                <input type="text" id="signature" onchange="handleSignatureChange()" placeholder="Sign here"> 
                <strong>Date:</strong> 
                <input type="date">
            </p>
        </div> -->
    </div>


    <div id="checkout">
        <!-- Checkout will insert the payment form here -->
    </div>



</body>
</html>

    <p data-i18n="ThankYouMessage">Thank you for allowing us to work with you!</p>
    <p data-i18n="ProposalSignatureNotice">
        This Proposal must be signed and dated by the contracting authority for the project and must be received by Sun Painting within 30 days following the listed Proposal Date to be considered formally approved. Proposals received by Sun Painting after 30 Days may require re-pricing.
    </p>

    <!-- Restored Terms and Conditions Section -->
    <div class="terms-section">
        <h4 data-i18n="TermsAndConditions">Terms and Conditions - Updated 2/28/24</h4>

        <p data-i18n="GeneralTerms">
            <strong>General Terms:</strong> Sun Painting, LLC proposes to furnish all necessary equipment and perform the labor in a first-class, workmanlike manner according to the terms indicated in this estimate. Before starting, a deposit may be required, with the remaining due upon completion. The client agrees to pay for expenses related to collecting unpaid contract balances and agreed-upon changes.
        </p>

        <p data-i18n="ProposalContractNotice">
            This budget proposal is a contract once signed and returned to Sun Painting. The project's contracting authority must sign and date this proposal, and it must be received by Sun Painting within 30 days following the listed Proposal Date to be considered formally approved. Proposals received by Sun Painting after 30 Days may require re-pricing.
        </p>

        <p data-i18n="ProposalScopeNotice">
            This proposal is strictly limited to the scope of work and inclusions defined within and is based solely on the supplied drawings dated as indicated in the proposal. Please contact our office to submit updated drawings or specifications for a revised estimate. This Proposal assumes reasonable site access and regular working hours (Monday through Friday, 7:00 AM to 5:00 PM). The customer has a 72-hour right to rescind after the date of acceptance.
        </p>

        <p data-i18n="IncludedWarranty">
            <strong>Included Warranty Period:</strong> Sun Painting, LLC warrants labor and materials for a period of 1 year. Responsibility is limited to the supply of labor and materials to correct the defective condition. This warranty expressly excludes damages caused by accident/abuse, weather conditions such as temperature changes or excessive moisture, defective building materials or faulty workmanship by others. This warranty does not include adhesion failure of previously applied coatings to the surface below it.
        </p>

        <p data-i18n="ChangeOrders">
            <strong>Change Orders:</strong> Work crews are not authorized to complete work beyond the detailed specifications of this proposal without a written and signed contract change order. Please contact our office for an estimate on any additional work.
        </p>

        <p data-i18n="PaymentAndInvoicing">
            <strong>Payment and Invoicing:</strong> A 20% deposit on all approved proposals is required within three (3) business days of the signed contract. (Effective October 1, 2022) Invoices are payable upon receipt and due in full within 30 days of the Invoice Date. A finance charge of 1.5% per month is assessed on all amounts if payment is not received within 30 days of the Invoice Date. Sun Painting, LLC accepts Check, ACH Transfer, or Credit Card payments. - A 3% Convenience Fee will apply to the Invoice Total for Credit Card or ACH payments.
        </p>

        <ul>
            <li data-i18n="ExclusionLeadPaint">Lead Paint Abatement/RRP is excluded unless explicitly stated otherwise.</li>
            <li data-i18n="ExclusionAsbestos">Asbestos Containing Material is excluded unless explicitly stated otherwise.</li>
            <li data-i18n="ExclusionMold">Mold Remediation is excluded unless explicitly stated otherwise.</li>
            <li data-i18n="ExclusionPaintSchemes">Multi-color-surface paint schemes are excluded unless explicitly stated otherwise.</li>
            <li data-i18n="ExclusionConcretePrep">Concrete grinding or other surface preparation is excluded unless explicitly stated otherwise.</li>
            <li data-i18n="ExclusionPaintColors">
                Assumes no more than five (5) paint colors and/or finishes unless otherwise stated within the proposal estimate.
            </li>
            <li data-i18n="ExclusionDrywallRepairs">
                Drywall repairs and undue surface preparation (Assumes minimum Level 4 Drywall finish clean and free of dirt/debris.)
            </li>
            <li data-i18n="ExclusionPaintSamples">
                Paint samples are limited to five (5) total samples (each color and each finish are considered a sample). Additional sample trips will be charged as time and material and will be in addition to any estimate or proposed costs.
            </li>
            <li data-i18n="ExclusionRestockingFee">
                Changes to selections (paint color, finishes, materials, etc.) made after the material is purchased will be subject to a 25% restocking fee.
            </li>
        </ul>
    </div>

    
    </div>
    <br>
    <script>
        import i18next from 'public/js/i18n.js';

        function changeLanguage(language) {
            console.log(`Changing language to: ${language}`);
            
            i18next.changeLanguage(language, () => {
                console.log('Language changed successfully. Updating text...');
                document.querySelectorAll('[data-i18n]').forEach(element => {
                    const key = element.getAttribute('data-i18n');
                    console.log(`Updating element with key: ${key}`);
                    element.innerHTML = i18next.t(key);
                });
                document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
                    const key = element.getAttribute('data-i18n-placeholder');
                    console.log(`Updating placeholder for key: ${key}`);
                    element.setAttribute('placeholder', i18next.t(key));
                });
            });
        }

        function toggleNumbers() {
            console.log('Toggling visibility of Amount columns...');
            const amountColumns = document.querySelectorAll('.amount-column');
            if (amountColumns.length === 0) {
                console.error('No elements with class "amount-column" found.');
            } else {
                amountColumns.forEach((column, index) => {
                    console.log(`Toggling column ${index}: current display = ${column.style.display}`);
                    column.style.display = column.style.display === 'none' ? '' : 'none';
                });
            }
        }
    </script>
    <script src="scripts.js"></script>
</body>
</html>
