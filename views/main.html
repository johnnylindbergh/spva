<!DOCTYPE html>
<html>
<head>
  <title> Main | {{defaults.sysName}}</title>
  <link rel="stylesheet" type="text/css" href="css/reset.css">
  <link rel="stylesheet" type="text/css" href="css/defaults.css">
  <link rel="stylesheet" type="text/css" href="css/navbar.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">

  <!-- <link rel="icon" type="image/x-icon" href="/favicon.ico"> -->
<script src="https://cdn.jsdelivr.net/npm/moment@2.30.1/moment.min.js"></script>  
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script src="/js/main.js" type="text/javascript"></script>

  <!-- bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">


  </script>
</head>
<body>
  <!-- Expandable Navbar -->
  <nav class="navbar-expandable" style="width: 100vw; left: 0; right: 0; top: 0; position: relative; background:rgba(255, 166, 131)">
    <div class="navbar-header" style="display: flex; align-items: center; cursor: pointer; padding: 12px 24px; color: #fff;">
      <span id="navbar-toggle" style="font-size: 2rem; margin-right: 12px; color: #fff;">&#9776; {{defaults.sysName}}</span>
    </div>
    <div id="navbar-content" style="display: none; flex-direction: row; justify-content: space-between; width: 100%; padding: 0 24px;">
      <ul style="margin: 0; padding: 0; display: flex; flex-direction: row; align-items: center; list-style: none;">
        <li style="margin-right: 16px;"><a href="https://youtu.be/3zDkMfjyfaU?si=2nBjVTSEArqtvWm2" style="color: #fff;">{{defaults.sysName}} Help</a></li>
        {{#isAdmin}} <li style="margin-right: 16px;"><a href="/admin" style="color: #fff;">admin</a></li> {{/isAdmin}} 
        <li style="margin-right: 16px;"><a href="https://shop.franksaulconstruction.com" style="color: #fff;">Time Tracking</a></li>
        <li style="margin-right: 16px;"><a href="/subcontractorAdmin" style="color: #fff;">Subcontractor</a></li>
        <li style="margin-right: 16px;"><a href="/userManagement" style="color: #fff;">User Management</a></li>
        <li style="margin-right: 16px;"><a href="/auth/google" style="color: #fff;">Log In</a></li>
        <li style="margin-right: 16px;"><a href="/logout" style="color: #fff;">Log Out</a></li>
        <li style="display: flex; align-items: center; padding: 0 8px;">
          <a href="/profile">
            <img src="{{auth.userImage}}" alt="Profile" style="border-radius: 50%; width: 36px; height: 36px; border: 2px solid #fff;">
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <style>
    @media (max-width: 900px) {
      #navbar-content ul {
        flex-direction: column !important;
        align-items: flex-start !important;
      }
      #navbar-content {
        flex-direction: column !important;
        padding: 0 12px !important;
      }
      .navbar-header {
        padding: 12px 12px !important;
      }
    }
    .navbar-expandable a {
      color: #222;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s;
    }
    .navbar-expandable a:hover {
      color: #007bff;
      text-decoration: underline;
    }
    .navbar-expandable ul {
      list-style: none;
    }
    .navbar-expandable li {
      display: flex;
      align-items: center;
    }
  </style>
  <script>
    $(function() {
      $('#navbar-toggle').on('click', function() {
        $('#navbar-content').slideToggle(200);
      });
    });
  </script>

  {{#auth}} 
  <div class="container">
  </br>
    <h2>
      {{#message}}
        <p>{{message}}</p>
      {{/message}}
    </h2> 

  </div>
  {{/auth}}

  <div class="container">
    <form action="/addTakeoff">
    <input type="submit" value="Add Takeoff" />
    </form>

  

  {{#takeoffs}}
    <table id="takeoffs_table">
      <thead>
     <!--    <tr>
          <th>Name</th>
          <th>Edit</th>
          <th>Created At</th>
          <th>View</th>
          <th>Status</th> 
        </tr> -->
      </thead>
      <tbody>
        <!-- Rows will be appended here -->
      </tbody>
    </table>

    {{/takeoffs}}

    <div id = "estimate_view">
    
    </div>

    {{^takeoffs}}
      <p>No takeoffs found.</p>
    {{/takeoffs}}

    <!-- Takeoffs: 
    <table id = "takeoffs_table">
      <tr>
        <th>Takeoff Name</th>
        <th></th>
         <th></th>

      </tr>

     {{#takeoffs}}
      <tr>

      
        <td>{{name}}</td>

        <form action="/editTakeoff" method = "POST">
          <input type="hidden" name="takeoff_id" value="{{id}}">
            <td>
          <input type="submit" value="edit" />
          </td>
        </form>

        <form action="/view" method = "POST">
          <input type="hidden" name="takeoff_id" value="{{id}}">
            <td>
          <input style="background-color: white; color:black;" type="submit" value="view" />
          </td>
        </form>
          <div id = "takeoff_status_{{id}}">
            <p type="hidden" id="takeoff_status">
          </div>

       </tr>
      {{/takeoffs}} 
   </table>
    -->
  </div>


<!-- <div>
	<table>
		<tr>
			<th>Material</th>
			<th>Measure</th>
		</tr>
		{{#subjects}}
			<tr>
				<td>{{Material}}</td>
				<td>{{Area}}</td>
				<td>{{Length}}</td>
			</tr>
		{{/subjects}}
</div> -->
</body>
</html>

