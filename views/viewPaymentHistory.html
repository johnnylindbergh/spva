<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment History</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="/js/viewPaymentHistory.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.30.1/moment.min.js"></script>
    <script src="/js/viewPaymentHistory.js"></script>

    <link rel="stylesheet" href="/css/defaults.css">
</head>
<body>



    <!-- Action Buttons -->
    <div id="actionButtons">
        <button id="createStatementBtn">Create Statement</button>
        <form id="createInvoiceBtn" action="/invoiceCreator" method="POST">
            <input type="hidden" id="takeoff_id" name="takeoff_id" value="{{takeoff_id}}">
            <button type="submit">Create Invoice</button>
        </form>

        <form id="change-order-btn" action="/changeOrderCreator" method="POST">
            <input type="hidden" id="takeoff_id" name="takeoff_id" value="{{takeoff_id}}">
            <button type="submit">Create Change Order</button>
        </form>
        <button id="pushToQuickbooksBtn">Push to QuickBooks</button>
    </div>
    </body><br>

    
    <!-- Hidden input for takeoff_id -->
    <input type="hidden" id="takeoff_id" value="{{takeoff_id}}">

    <h1>Payment History</h1>
    <table id="paymentHistoryTable">
        <thead>
            <tr>
                <th>Date</th>
                <th>Amount</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            <!-- Rows will be populated by JavaScript -->
        </tbody>
    </table>




    <div id="estimates">
        <h2>Estimates</h2>
        <table id="estimatesTable">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Amount</th>
                    <th>Status</th>
                    <!-- button to create an invoice -->
                    <th><button id="createInvoiceButton">Create Invoice</button></th>
                    <!-- button to create statments -->
                    <th><button id="createStatementButton">Create Statement</button></th>
                </tr>
            </thead>
            <tbody>
                <!-- Rows will be populated by JavaScript -->
            </tbody>
        </table>
    </div>

    <!-- invoices section -->
    <div id="invoices">
        <h2>Invoices</h2>
        <table id="invoicesTable">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Amount</th>
                    <th>Status</th>
                    <th>QuickBooks ID</th>
                </tr>
            </thead>
            <tbody>
                <!-- Rows will be populated by JavaScript -->
            </tbody>
        </table>
    </div>
    <!-- statements Section -->
    <div id="statements">
        <h2>Statements</h2>
        <table id="statementsTable">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Amount</th>
                    <th>Status</th>
                    <th>QuickBooks ID</th>
                </tr>
            </thead>
            <tbody>
                <!-- Rows will be populated by JavaScript -->
            </tbody>
        </table>

</body>
</html>
