Listening on 0.0.0.0:80 for ACME challenges, and redirecting to HTTPS
Listening on 0.0.0.0:443 for secure traffic
Ready to Serve:
	 estimate.sunpaintingva.com
ACME Directory URL: https://acme-v02.api.letsencrypt.org/directory

By using this software you (lindberghjohnny@gmail.com) are agreeing to the following:
ACME Subscriber Agreement: https://letsencrypt.org/documents/LE-SA-v1.4-April-3-2024.pdf
Greenlock/ACME.js Terms of Use: https://rootprojects.org/legal/#terms

User: Testing User
Fetched takeoffs with estimates: [
  {
    id: 1,
    name: 'Test 1',
    status: 2,
    date_created: 2024-12-18T17:03:09.000Z,
    takeoff_created_at: 2024-12-15T18:19:31.000Z
  },
  {
    id: 2,
    name: 'Test 2',
    status: 4,
    date_created: 2024-12-01T04:36:35.000Z,
    takeoff_created_at: 2024-12-15T18:25:52.000Z
  },
  {
    id: 3,
    name: 'Test',
    status: 0,
    date_created: null,
    takeoff_created_at: 2024-12-16T16:30:57.000Z
  },
  {
    id: 4,
    name: 'Test New New',
    status: 3,
    date_created: 2024-12-18T03:18:36.000Z,
    takeoff_created_at: 2024-12-16T16:31:45.000Z
  },
  {
    id: 5,
    name: 'Test New New',
    status: 4,
    date_created: 2024-12-18T03:41:49.000Z,
    takeoff_created_at: 2024-12-16T16:33:27.000Z
  },
  {
    id: 6,
    name: 'Test',
    status: 3,
    date_created: 2024-11-16T20:30:12.000Z,
    takeoff_created_at: 2024-12-16T20:29:34.000Z
  },
  {
    id: 7,
    name: 'Test New 2',
    status: 3,
    date_created: 2024-12-18T04:00:42.000Z,
    takeoff_created_at: 2024-12-18T03:44:51.000Z
  },
  {
    id: 8,
    name: 'Test',
    status: 0,
    date_created: null,
    takeoff_created_at: 2024-12-24T01:27:40.000Z
  }
]
editing 6
updating takeoff total  { takeoff_id: '6', total: '12214.49' }
updated
updating takeoff total  { takeoff_id: '6', total: '12214.49' }
updated
updating measurement unit  { id: '62', unit: 'sf' }
updated
updating takeoff total  { takeoff_id: '6', total: '12214.49' }
updated
updating measurement unit  { id: '63', unit: 'sf' }
updated
updating takeoff total  { takeoff_id: '6', total: '12214.49' }
updated
updating measurement unit  { id: '64', unit: 'sf' }
updated
updating takeoff total  { takeoff_id: '6', total: '12214.49' }
updated
updating measurement unit  { id: '66', unit: 'sf' }
updated
updating takeoff total  { takeoff_id: '6', total: '12214.49' }
updated
updating measurement unit  { id: '67', unit: 'sf' }
updated
updating takeoff total  { takeoff_id: '6', total: '12214.49' }
updated
updating measurement unit  { id: '70', unit: 'sf' }
updated
editing 6
updating takeoff total  { takeoff_id: '6', total: '12214.49' }
updated
updating takeoff total  { takeoff_id: '6', total: '12214.49' }
updated
updating measurement unit  { id: '58', unit: 'sf' }
updated
updating takeoff total  { takeoff_id: '6', total: '12214.49' }
updated
updating measurement unit  { id: '59', unit: 'sf' }
updated
updating takeoff total  { takeoff_id: '6', total: '12214.49' }
updated
updating measurement unit  { id: '71', unit: 'sf' }
updated
updating takeoff total  { takeoff_id: '6', total: '12214.49' }
updated
updating measurement unit  { id: '73', unit: 'sf' }
updated
updating takeoff total  { takeoff_id: '6', total: '12214.49' }
updated
updating measurement unit  { id: '74', unit: 'sf' }
updated
updating takeoff total  { takeoff_id: '6', total: '12214.49' }
updated
Generating estimate for takeoff 6
[ { estimate_id: 3 } ]
3
No estimate generated, just retrieved
[
  {
    id: 3,
    takeoff_id: 6,
    isArchived: 0,
    date_created: 2024-11-16T20:30:12.000Z,
    inclusions: '\n' +
      '                                                                                La propuesta incluye La propuesta incluye CASHMERE FL EXTRA para cuadros HM y SPR INT SA EXTRA para cuadros de línea test...                \n' +
      '                ',
    labor: null,
    exclusions: '\n' +
      '                                                                                Exclusiones y suposiciones La propuesta excluye GYP Ceiling, Doors, EXT, PT-05, PT-07, PT-09/A, EXT ALT, PT-Sherwin, PT-Sherwin Old, Sealed Concrete, Question, Quick Measurement, WC-01, TA, W-02/3, WC-02 y WC-03.                                                \n' +
      '                '
  }
]
User: Testing User
just viewing takeoff id:  6
just viewing takeoff id:  6
loading options for takeoff  6
loading options for takeoff  6
sharing takeoff  o9QDBSryayKfUto3M5AR72UlihR0skfZ
getting shared takeoff: {
  id: 6,
  name: 'Test',
  isArchived: 0,
  creator_id: 1,
  owner: 'Owner Name',
  owner_billing_address: null,
  owner_email: 'lindberghjohnny@gmail.com',
  invoice_email: null,
  file_path_of_plans: null,
  estimate_id: 3,
  status: 3,
  passcode: 'o9QDBSryayKfUto3M5AR72UlihR0skfZ',
  view_count: 40,
  total: '12214.49',
  duration_hours: null,
  start_date: null,
  end_date: null,
  created_at: 2024-12-16T20:29:34.000Z,
  updated_at: 2024-12-26T08:58:51.000Z,
  tax: '5.30'
}
{
  id: 3,
  takeoff_id: 6,
  isArchived: 0,
  date_created: 2024-11-16T20:30:12.000Z,
  inclusions: '\n' +
    '                                                                                La propuesta incluye La propuesta incluye CASHMERE FL EXTRA para cuadros HM y SPR INT SA EXTRA para cuadros de línea test...                \n' +
    '                ',
  labor: null,
  exclusions: '\n' +
    '                                                                                Exclusiones y suposiciones La propuesta excluye GYP Ceiling, Doors, EXT, PT-05, PT-07, PT-09/A, EXT ALT, PT-Sherwin, PT-Sherwin Old, Sealed Concrete, Question, Quick Measurement, WC-01, TA, W-02/3, WC-02 y WC-03.                                                \n' +
    '                '
}
estimate created at  2024-11-16T20:30:12.000Z
estimate expires at  2024-12-16 20:30:12
expired
User: Testing User
Fetched takeoffs with estimates: [
  {
    id: 1,
    name: 'Test 1',
    status: 2,
    date_created: 2024-12-18T17:03:09.000Z,
    takeoff_created_at: 2024-12-15T18:19:31.000Z
  },
  {
    id: 2,
    name: 'Test 2',
    status: 4,
    date_created: 2024-12-01T04:36:35.000Z,
    takeoff_created_at: 2024-12-15T18:25:52.000Z
  },
  {
    id: 3,
    name: 'Test',
    status: 0,
    date_created: null,
    takeoff_created_at: 2024-12-16T16:30:57.000Z
  },
  {
    id: 4,
    name: 'Test New New',
    status: 3,
    date_created: 2024-12-18T03:18:36.000Z,
    takeoff_created_at: 2024-12-16T16:31:45.000Z
  },
  {
    id: 5,
    name: 'Test New New',
    status: 4,
    date_created: 2024-12-18T03:41:49.000Z,
    takeoff_created_at: 2024-12-16T16:33:27.000Z
  },
  {
    id: 6,
    name: 'Test',
    status: 3,
    date_created: 2024-11-16T20:30:12.000Z,
    takeoff_created_at: 2024-12-16T20:29:34.000Z
  },
  {
    id: 7,
    name: 'Test New 2',
    status: 3,
    date_created: 2024-12-18T04:00:42.000Z,
    takeoff_created_at: 2024-12-18T03:44:51.000Z
  },
  {
    id: 8,
    name: 'Test',
    status: 0,
    date_created: null,
    takeoff_created_at: 2024-12-24T01:27:40.000Z
  }
]
editing 5
updating takeoff total  { takeoff_id: '5', total: '21478.62' }
updated
updating takeoff total  { takeoff_id: '5', total: '21478.62' }
updated
sharing takeoff  0XbDCOVgKMlXVzxdTHGw00okRQDQqVj9
getting shared takeoff: {
  id: 5,
  name: 'Test New New',
  isArchived: 0,
  creator_id: 1,
  owner: 'Owner Name',
  owner_billing_address: null,
  owner_email: null,
  invoice_email: null,
  file_path_of_plans: null,
  estimate_id: 2,
  status: 4,
  passcode: '0XbDCOVgKMlXVzxdTHGw00okRQDQqVj9',
  view_count: 24,
  total: '21478.62',
  duration_hours: null,
  start_date: null,
  end_date: null,
  created_at: 2024-12-16T16:33:27.000Z,
  updated_at: 2024-12-24T07:28:50.000Z,
  tax: '5.30'
}
{
  id: 2,
  takeoff_id: 5,
  isArchived: 0,
  date_created: 2024-12-18T03:41:49.000Z,
  inclusions: '\n                    Hola esto es una prueba \n                ',
  labor: null,
  exclusions: '\n' +
    '                                        Exclusiones y suposiciones Ninguno de los materiales enumerados anteriormente está excluido, por lo que esta sección no aplica.                \n' +
    '                '
}
estimate created at  2024-12-18T03:41:49.000Z
estimate expires at  2025-01-17 03:41:49
just viewing takeoff id:  5
/checkMeout/
{ total: '21478.62', name: 'Test New New' }
Test New New has a total of 21478.62
/checkMeout/
{ total: '21478.62', name: 'Test New New' }
Test New New has a total of 21478.62
total is  64858
{ takeoff_id: '5' }
{ total: '21478.62', name: 'Test New New' }
total  is  21478.62
/checkMeout/
{ total: '12214.49', name: 'Test' }
Test has a total of 12214.49
total is  38177
{ takeoff_id: '6' }
{ total: '12214.49', name: 'Test' }
total  is  12214.49
/checkMeout/
{ total: '1668.72', name: 'Test New 2' }
Test New 2 has a total of 1668.72
total is  7805
{ takeoff_id: '7' }
{ total: '1668.72', name: 'Test New 2' }
total  is  1668.72
/checkMeout/
undefined has a total of undefined
total is  NaN
/var/www/spvaTrack/node_modules/stripe/cjs/Error.js:11
            return new StripeInvalidRequestError(rawStripeError);
                   ^

StripeInvalidRequestError: Invalid integer: NaN
    at generateV1Error (/var/www/spvaTrack/node_modules/stripe/cjs/Error.js:11:20)
    at res.toJSON.then.Error_js_1.StripeAPIError.message (/var/www/spvaTrack/node_modules/stripe/cjs/RequestSender.js:108:62)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  type: 'StripeInvalidRequestError',
  raw: {
    code: 'parameter_invalid_integer',
    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',
    message: 'Invalid integer: NaN',
    param: 'unit_amount',
    request_log_url: 'https://dashboard.stripe.com/logs/req_njWfAwXqiXeAIz?t=1735203721',
    type: 'invalid_request_error',
    headers: {
      server: 'nginx',
      date: 'Thu, 26 Dec 2024 09:02:01 GMT',
      'content-type': 'application/json',
      'content-length': '337',
      connection: 'keep-alive',
      'access-control-allow-credentials': 'true',
      'access-control-allow-methods': 'GET, HEAD, PUT, PATCH, POST, DELETE',
      'access-control-allow-origin': '*',
      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',
      'access-control-max-age': '300',
      'cache-control': 'no-cache, no-store',
      'content-security-policy': "base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; upgrade-insecure-requests; report-uri /csp-violation https://q.stripe.com/csp-violation?q=aLiR5_4w0dTU4j3T36NeIADPoLnOxVUcJkZVydA9lrzI5pZYsH0va3-RmKA0ox3X0t3jJjeaDA%3D%3D",
      'cross-origin-opener-policy-report-only': 'same-origin; report-to="coop"',
      'idempotency-key': 'stripe-node-retry-8f2297c3-f8b3-4cf4-b1ba-84a7402f5b8f',
      'original-request': 'req_njWfAwXqiXeAIz',
      'report-to': '{"group":"coop","max_age":8640,"endpoints":[{"url":"https://q.stripe.com/coop-report"}],"include_subdomains":true}',
      'reporting-endpoints': 'coop="https://q.stripe.com/coop-report"',
      'request-id': 'req_njWfAwXqiXeAIz',
      'stripe-version': '2024-10-28.acacia',
      vary: 'Origin',
      'x-content-type-options': 'nosniff',
      'x-stripe-priority-routing-enabled': 'true',
      'x-stripe-routing-context-priority-tier': 'livemode',
      'x-wc': 'AB',
      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'
    },
    statusCode: 400,
    requestId: 'req_njWfAwXqiXeAIz'
  },
  rawType: 'invalid_request_error',
  code: 'parameter_invalid_integer',
  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',
  param: 'unit_amount',
  detail: undefined,
  headers: {
    server: 'nginx',
    date: 'Thu, 26 Dec 2024 09:02:01 GMT',
    'content-type': 'application/json',
    'content-length': '337',
    connection: 'keep-alive',
    'access-control-allow-credentials': 'true',
    'access-control-allow-methods': 'GET, HEAD, PUT, PATCH, POST, DELETE',
    'access-control-allow-origin': '*',
    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',
    'access-control-max-age': '300',
    'cache-control': 'no-cache, no-store',
    'content-security-policy': "base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; upgrade-insecure-requests; report-uri /csp-violation https://q.stripe.com/csp-violation?q=aLiR5_4w0dTU4j3T36NeIADPoLnOxVUcJkZVydA9lrzI5pZYsH0va3-RmKA0ox3X0t3jJjeaDA%3D%3D",
    'cross-origin-opener-policy-report-only': 'same-origin; report-to="coop"',
    'idempotency-key': 'stripe-node-retry-8f2297c3-f8b3-4cf4-b1ba-84a7402f5b8f',
    'original-request': 'req_njWfAwXqiXeAIz',
    'report-to': '{"group":"coop","max_age":8640,"endpoints":[{"url":"https://q.stripe.com/coop-report"}],"include_subdomains":true}',
    'reporting-endpoints': 'coop="https://q.stripe.com/coop-report"',
    'request-id': 'req_njWfAwXqiXeAIz',
    'stripe-version': '2024-10-28.acacia',
    vary: 'Origin',
    'x-content-type-options': 'nosniff',
    'x-stripe-priority-routing-enabled': 'true',
    'x-stripe-routing-context-priority-tier': 'livemode',
    'x-wc': 'AB',
    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'
  },
  requestId: 'req_njWfAwXqiXeAIz',
  statusCode: 400,
  userMessage: undefined,
  charge: undefined,
  decline_code: undefined,
  payment_intent: undefined,
  payment_method: undefined,
  payment_method_type: undefined,
  setup_intent: undefined,
  source: undefined
}

Node.js v18.19.1
